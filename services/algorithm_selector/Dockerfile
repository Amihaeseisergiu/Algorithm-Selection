FROM python:3.10

WORKDIR /app
COPY . .

RUN pip3 install -r requirements.txt

ENV FLASK_RUN_HOST=0.0.0.0
ENV FLASK_RUN_PORT=5000

ENV RABBITMQ_USER=user
ENV RABBITMQ_PASS=pass

ENV MONGODB_DATABASE=algorithms
ENV MONGODB_USERNAME=user
ENV MONGODB_PASSWORD=pass
ENV MONGODB_HOSTNAME=mongodb

ENV SELECTOR_ALGORITHMS_TOPIC=selector_algorithms
ENV SELECTOR_METRICS_TOPIC=selector_metrics

CMD python3 /app/src/service.py